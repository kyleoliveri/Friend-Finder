<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="/Friend-Finder/assets/css/">

    <title>FriendFinder | Survey</title>
</head>

<body>
    <nav>
        <div class="nav-wrapper grey lighten-4">
            <a href="/" class="brand-logo black-text">Friend Finder</a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li><a class="black-text s4" href="/api/friends"><i class="fas fa-user-friends black-text"></i> API
                        Friends List</a>
                </li>
                <li><a class="black-text s4" target="_blank" href="https://github.com/kyleoliveri/Friend-Finder"><i
                            class="fab fa-github black-text"></i> Git Hub Repo</a></li>
            </ul>
        </div>
    </nav>
    <br><br>
    <div class="container">
        <div class="row">
            <div class="col s9 m10 l12 grey lighten-4">
                <div class="card-content black-text">
                   
                    <h2 class="center">About You</h2>

						<div class="input-field col s6">
							<h5>Name (Required)</h5>
							<input type="text" class="validate" placeholder="Your Name Here" id="userName">
						</div>

						<div class="input-field col s6">
							<h5>Profile Image (Required)</h5>
							<input type="text" class="validate" placeholder="Photo Link Here" id="userPhoto">
						</div>   
                        <hr>

                        <h2 class="center section">Survey</h2>
                        <hr>

                    <p>1. Dogs are better than cats.</p>
                    <div id="question1" class="input-field col s12">
                        <select>
                            <option value="" disabled selected>Agree or Disagree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <br>
                    <p>2. It is better for children to grow up in the countryside than a big city.</p>
                    <div id="question2" class="input-field col s12">
                        <select>
                            <option value="" disabled selected>Agree or Disagree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <br>
                    <p>3. Playing a game is only fun when you win.</p>
                    <div id="question3" class="input-field col s12">
                        <select>
                            <option value="" disabled selected>Agree or Disagree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <br>
                    <p>4. It is okay to lie.</p>
                    <div id="question4" class="input-field col s12">
                        <select>
                            <option value="" disabled selected>Agree or Disagree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <br>
                    <p>5. Summer is the best season of the year.</p>
                    <div id="question5" class="input-field col s12">
                        <select>
                            <option value="" disabled selected>Agree or Disagree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <br>
                    <p>6. Parents are the best teachers.</p>
                    <div id="question6" class="input-field col s12">
                        <select>
                            <option value="" disabled selected>Agree or Disagree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <br>
                    <p>7. It does not matter whether you enjoy your job or not as long as it's a well-paid job.</p>
                    <div id="question7" class="input-field col s12">
                        <select>
                            <option value="" disabled selected>Agree or Disagree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <br>
                    <p>8. Decisions that people make quickly are always wrong.</p>
                    <div id="question8" class="input-field col s12">
                        <select>
                            <option value="" disabled selected>Agree or Disagree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <br>
                    <p>9. The night is better than the day.</p>
                    <div id="question9" class="input-field col s12">
                        <select>
                            <option value="" disabled selected>Agree or Disagree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <br>
                    <p>10. Internet is better than TV.</p>
                    <div id="question10" class="input-field col s12">
                        <select>
                            <option value="" disabled selected>Agree or Disagree?</option>
                            <option value="1">1 (Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5 (Strongly Agree)</option>
                        </select>
                    </div>
                    <a class="waves-effect waves-light black btn section" role="button" id="submitSurvey">Submit
                        Survey</a>
                </div>
            </div>
        </div>
    </div>

    <div id="modal1" class="modal">
            <div class="modal-content">
                <h4>Closest Friend Match</h4>
                <div class="divider"></div>
                <h5 id="userMatch"></h5>
                <img id="userMatchImage" class="materialboxed" width="650" src="">
            </div>
            <div class="modal-footer">
                <a href="/survey" class="modal-action modal-close waves-effect waves-green btn-flat">Fill Again!</a>
            </div>
        </div>

    <script src="http://code.jquery.com/jquery-3.4.0.js" integrity="sha256-DYZMCC8HTC+QDr5QNaIcfR7VSPtcISykd+6eSmBW5qo="
        crossorigin="anonymous">
        </script>

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    
    <script type="text/javascript">
		$(document).ready(function() {
			$('select').material_select();
			$('.modal').modal({
				dismissible: false,
				opacity: .5,
				inDuration: 300,
				outDuration: 200,
				startingTop: '4%',
				endingTop: '10%'
			});
		});
    
        $(document).ready(function () {
            $('select').formSelect();
        });

        $('#submitSurvey').on('click', function(event) {
			event.preventDefault();
			var userInput = {
				name: $('#userName').val().trim(),
				photo: $('#userPhoto').val().trim(),
				scores:[
					$('#question1').val().trim(),
					$('#question2').val().trim(),
					$('#question3').val().trim(),
					$('#question4').val().trim(),
					$('#question5').val().trim(),
					$('#question6').val().trim(),
					$('#question7').val().trim(),
					$('#question8').val().trim(),
					$('#question9').val().trim(),
					$('#question10').val().trim()
				]
            };
            $.post('/api/friends', userInput)
      		.done(function(data) {
      			$('#userMatch').html(data.matchName);
		    	$("#userMatchImage").attr("src", data.matchImage);
      			$('#modal1').modal('open');
      		});
		});
    </script>

    <script src="/server.js"></script>

</body>

</html>